- [x]  오늘 하루 공부했던 것에 대해 `정리하기`
- [x]  중요한 것을 `잊지않기`

# 🚩 Today I Learned

---

## 📚 정리하기

- 모던 자바스크립트 요약 정리

---

## 🏷 잊지않기

- 자바스크립트의 실행 컨텍스트는 단순히 런타임에 불과하다!
    - 렉시컬 환경과는 별개의 라이프 사이클이다
    - 단지 실행 컨텍스트가 렉시컬 환경을 참조하고 있을 뿐, 서로의 라이프 사이클은 다르다
- 자바스크립트의 스코프 할당 정책은 렉시컬 스코프(정적 스코프)정책을 따르기 때문에, 함수가 런타임에서 어디서 실행되던지간에 함수가 정의된 위치에 따라 스코프가 결정된다
    - 다행이다
- 렉시컬 환경은.. 자신이 정의되어 있는 상위 렉시컬 환경의 참조를 가지고 있다
    - 이를 `외부 렉시컬 환경에 대한 참조` 라고 한단다
    - 당연히 전역 렉시컬 환경의 경우, 외부 렉시컬 환경 참조는 null 이다
    - 전역 렉시컬 환경이 최상위 스코프이기 때문이당
- 클로저는 `중첩 함수` 라는 개념서부터 시작되는데,,,………… 😱🧐🫠
- 클로저는 렉시컬 환경이 상위 렉시컬 환경보다 더 오래 생존하는 형태를 띄는 중첩 함수를 뜻한다!
    - 상위 스코프에 존재하는 어떠한 것도 참조하고 있지 않다면 그 것은 클로저가 아니다
    - 모던 브라우저에서는 위와 같은 하위 함수에게 상위 스코프의 정보를 할당하지 않는다고 한다
        - 렉시컬 환경은 외부 렉시컬 환경에 대한 참조를 가지고 있다
        - 즉, 외부 렉시컬 환경을 참조하고 있지 않은 중첩 함수는 외부 렉시컬 환경 참조가 없는 셈이당
- 즉시 실행 함수와의 조합으로 클로저는 데이터 은닉을 구현할 수 있게 된다
    
    ```jsx
    /*
    1. 즉시 실행 함수가 수행되며 새 렉시컬 환경을 생성한다 
    2. 렉시컬 환경에 num 을 저장한다
    3. 이후 즉시 실행 함수의 생명주기가 종료되면서 ++num 을 수행하는 함수 객체가 반환된다
    4. 즉시 실행 함수가 함수 객체를 리턴함으로써 increses 에는 리턴한 함수 객체가 할당되며, 이는 클로저이다
    5. 즉, increses 에는 상위 스코프의 렉시컬 환경이 저장된 클로저가 할당된다
    6. increses 를 호출하면 클로저가 호출된다
    7. 클로저를 호출할 때 마다 스코프 체인 검색을 통해 클로저의 외부 렉시컬 환경에 저장된 num 을 참조하게 된다 
    8. increses 를 호출하며 비로소 연속적으로 num 증가 연산을 수행할 수 있게 된다 
     */
    
    // 즉시 실행 함수는 한 번만 호출된다
    const increase = (function () {
      let num = 0;
    
    	// 클로저
      return function () {
        return ++num;
      }
    }());
    
    console.log(increase()); // 1
    console.log(increase()); // 2
    console.log(increase()); // 3
    ```