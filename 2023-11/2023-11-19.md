# 2023.11.19

- [x] ì˜¤ëŠ˜ í•˜ë£¨ ê³µë¶€ í–ˆë˜ ê²ƒì— ëŒ€í•´ `ì •ë¦¬í•˜ê¸°`
- [x] ì¤‘ìš”í•œ ê²ƒì„ `ìžŠì§€ì•Šê¸°`

# ðŸš© Today I Learned

---

## ðŸ“š ì •ë¦¬í•˜ê¸°

- ìžë°” ì„±ëŠ¥ íŠœë‹ ì´ì•¼ê¸° ì½ê¸°

---

## ðŸ· ìžŠì§€ì•Šê¸°

- Serial Collector ëž€
  - Young Generation â†’ Old Generation ì„ ì—°ì†ì ìœ¼ë¡œ ì²˜ë¦¬í•˜ëŠ” GC ë¼ê³  í•œë‹¤
  - GC ê°€ ë™ìž‘í•˜ëŠ” ìŠ¤ë ˆë“œ ì™¸ ëª¨ë“  ìŠ¤ë ˆë“œì˜ ë™ìž‘ì„ ë©ˆì¶”ê²Œ ë˜ë©°, ì´ëŸ° í˜„ìƒì„ Stop-the-world ë¼ê³  í•œë‹¤
  - ë‹¨ì¼ ì½”ì–´ 32ë¹„íŠ¸ ì‹œìŠ¤í…œì˜ ê¸°ë³¸ GC ë¼ê³  í•˜ë©°, ìœ„ì™€ ê°™ì´ ëª¨ë“  ì• í”Œë¦¬ì¼€ì´ì…˜ ìŠ¤ë ˆë“œë¥¼ ë©ˆì¶”ê¸° ë•Œë¬¸ì— ì§€ì—° ì‹œê°„ì— ì˜ˆë¯¼í•œ ì„œë²„ì¸¡ ì• í”Œë¦¬ì¼€ì´ì…˜ ë³´ë‹¤ëŠ” í´ë¼ì´ì–¸íŠ¸ì¸¡ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ì£¼ë¡œ ì‚¬ìš©ëœë‹¤ê³  í•œë‹¤
- ë§Œì•½ CPU ê°€ ë‘ ê°œ ë¯¸ë§Œ, ë©”ëª¨ë¦¬ê°€ 2GB ë¯¸ë§Œì¸ ì‹œìŠ¤í…œì—ì„œ ì‚¬ìš©í•  ê²½ìš° Serial Collector ê°€ ê¸°ë³¸ GC ë¡œ ì§€ì • ë˜ë‹ˆ, ì»¨í…Œì´ë„ˆ í™˜ê²½ì—ì„œëŠ” GC ë¥¼ ëª…ì‹œì ìœ¼ë¡œ ì§€ì •í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤
  - OpenJDK ì˜ ì†ŒìŠ¤ì½”ë“œëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤
  ```cpp
  // src/hotspot/share/gc/shared/gcConfig.cpp
  void GCConfig::select_gc_ergonomically() {
  	// os::is_server_class_machine ì˜ ë‚´ë¶€ëŠ” ë‹¤ìŒê³¼ ê°™ì€ ë…¼ë¦¬ë¥¼ ê°€ì§€ê³  ìžˆë‹¤
  			// This is the working definition of a server class machine:
  			// >= 2 physical CPU's and >=2GB of memory
    if (os::is_server_class_machine()) {
  		#if INCLUDE_G1GC
  		    FLAG_SET_ERGO_IF_DEFAULT(UseG1GC, true);
  		#elif INCLUDE_PARALLELGC
  		    FLAG_SET_ERGO_IF_DEFAULT(UseParallelGC, true);
  		#elif INCLUDE_SERIALGC
  		    FLAG_SET_ERGO_IF_DEFAULT(UseSerialGC, true);
  		#endif
    } else {
  		#if INCLUDE_SERIALGC
  		    FLAG_SET_ERGO_IF_DEFAULT(UseSerialGC, true);
  		#endif
    }
  }
  ```
  - ì¶œì²˜: https://developers.redhat.com/articles/2022/04/19/best-practices-java-single-core-containers#java_application_lifecycle
