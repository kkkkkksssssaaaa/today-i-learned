- [x]  오늘 하루 공부했던 것에 대해 `정리하기`
- [x]  중요한 것을 `잊지않기`

# 🚩 Today I Learned

---

## 📚 정리하기

- JPA 프로그래밍 요약 정리

---

## 🏷 잊지않기

- JPA 의 식별자 자동 생성 전략 중 시퀀스 전략과 테이블 전략은
    - 유일한 값을 순서대로 생성하는 테이블을 사용하여 해당 값을 식별자로 사용
    - 시퀀스/테이블 전략을 사용하는 엔티티들간에는 식별자가 중복되지 않는다는 장점이 있음
    - 두 전략 모두 기본적으로 50개의 시퀀스를 미리 메모리에 가지고 있음
    - 이후 51번째의 시퀀스가 생성되는 시점에서 다시 50개의 시퀀스를 미리 가지고 있음
    - 여러 JVM 이 작동하는 환경이더라도 식별자가 중복되지 않음
- 시퀀스 전략과 테이블 전략의 차이점은
    - 시퀀스 전략은 데이터베이스 엔진에서 시퀀스라는 기능 자체를 제공해야만 사용할 수 있음
        - 오라클, H2 등이 시퀀스를 지원함
    - 테이블 전략은 동작하는 방식이나 최적화 방법이 시퀀스와 동일하지만 시퀀스 대신 일반 테이블을 사용하여 시퀀스를 관리한다는 특징이 있음
        - 이때문에 시퀀스 기능을 지원하지 않아도 모두 사용할 수 있음
- 식별자를 지정할 때에는 auto_increment 등 실재하지 않는 대리키를 사용하는 것이 좋음
    - 반대로 자연키를 식별자로 사용하게 된다면 개인정보 보호 등 비지니스에 의해 식별자의 정책까지 바뀌게 될 가능성이 있기 때문에 대리키를 사용하는 것이 좋다고 함