- [x]  오늘 하루 공부했던 것에 대해 `정리하기`
- [x]  중요한 것을 `잊지않기`

# 🚩 Today I Learned

---

## 📚 정리하기

- JPA 프로그래밍 요약 정리
- AWS SNS 푸시 써봤음

---

## 🏷 잊지않기

- AWS SNS 의 모바일 푸시에서 각 디바이스 플랫폼별 페이로드를 작성할 때에 플랫폼 키의 값은 JSON Object 가 아닌 JSON String 형태로 작성해야함
- JPA 는 영속성 컨텍스트의 최초의 상태를 복사해서 저장해두며 이를 `스냅샷` 이라고함
    - 스냅샷을 통하여 변경된 엔티티를 대상으로 별도의 수정 API 를 호출하지 않는다고 하더라도 플러시가 되면 이를 비교하여 데이터베이스에 반영하는데 이를 `변경 감지(dirty check)` 라고함
    - 이 때 생성되는 쿼리는 엔티티의 모든 필드가 작성 되어 있는 형태임
        - 즉, 한 개의 엔티티에 대한 수정 쿼리는 모두 같음
        - 이 경우 쿼리를 재사용 할 수 있으므로 이득임
        - 데이터베이스도 한 번 파싱된 쿼리에 대하여 재사용이 가능하다고함