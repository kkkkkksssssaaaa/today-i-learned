# 2022.03.07

- [x]  오늘 하루 공부했던 것에 대해 `정리하기`
- [x]  중요한 것을 `잊지않기`

# 🚩 Today I Learned

---

## 📚 정리하기

- 이펙티브 자바 요약 정리
- 사내 세미나
    
    [객체](https://www.notion.so/e212b525535b4c1d90cf221f7fd59ed3)
    

---

## 🏷 잊지않기

- 이왕이면 제네릭 타입/메서드로 만들라
    - 동적인 타입을 받기 위하여 Object 를 받거나 하지 말고 이왕이면 제네릭 타입/제네릭 메서드를 받도록 구현하자
    - 위의 구조보다 제네릭이 훨씬 더 타입 안전성이 높다
    - 대부분의 구조에서는 동적인 타입을 받기 위해 Object 를 사용했던 경우에서 제네릭으로 변경하여도 큰 문제는 없지만, 배열인 경우 문제가 될 수 있다
- 한정적 와일드카드를 사용해 API 유연성을 높이라
    - `펙스(PECS) 란?`
        - producer-extends, consumer-super
        - 원소의 생산자는 extends 를 사용하고, 원소의 소비자는 super 를 사용
- 제네릭과 가변인수를 함께 쓸 때는 신중하라
    - 가변인수도 배열로 받아오기 때문에 제네릭과의 상성이 좋지 않음
    - 아래의 두 조건을 모두 만족하지 않는다면 수정해서 써라
        - 가변인수 매개변수 배열에 아무것도 저장하지 않음
        - 그 배열 혹은 복제본을 신뢰할 수 없는 코드에 노출하지 않음
- 타입 안전 이종 컨테이너를 고려하라
    - 타입 안전성을 고려한 자료구조를 다룰 때, 이를 테면 데이터베이스의 테이블을 저장하는 자료구조를 만들 때
    - 컬럼 타입에 맞는 레코드를 저장하기 위해 해당 타입에 맞는 클래스도 저장하게 된다면, 제네릭의 단점? 인 런타임 시에 불충분한 타입 정보를 갖게 되는 특성을 보완할 수 있게됨
    - `{ Class<E>, cast(value, E.class) }` 요런 식으롱
- int 상수 대신 열거 타입을 사용하라
    - 열거 타입은 public 생성자가 존재하지 않는 public static final 상수 필드를 갖는 클래스 인스턴스와 동일함
    - 열거 타입이 클래스처럼 동작하기 때문에 여타 다른 언어들의 열거 타입보다 자바의 열거 타입이 훨씬 더 강력하다는 장점이 있음
    - 싱글톤 인스턴스이기도 함
- ordinal 메서드 대신 인스턴스 필드를 사용하라
    - ordinal 은 해당 상수가 몇 번째 물리적인 위치에 선언 되었는지를 반환하기 때문에 너무나 불안정한 값임
- 비트 필드 대신 EnumSet 을 사용하라
- ordinal 인덱싱 대신 EnumMap 을 사용하라
- 확장할 수 있는 열거 타입이 필요하면 인터페이스를 사용하라
    - 열거 타입의 필드마다 인터페이스의 메서드를 구현하여 사용할 수 있음