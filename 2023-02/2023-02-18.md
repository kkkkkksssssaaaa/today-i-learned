# 2023.02.18

- [x] 오늘 하루 공부했던 것에 대해 `정리하기`
- [x] 중요한 것을 `잊지않기`

# 🚩 Today I Learned

---

## 📚 정리하기

- 스프링 캐시 알아보기

---

## 🏷 잊지않기

- spring-cache 의존성을 통해, 스프링에서 제공하는 캐시를 사용할 수 있다
  - 별 다른 설정 없이 `ConcurrentMap` 을 사용하여 캐시 기능을 구현할 수도 있다
    - 사용할 캐시 매니저를 빈으로 등록하면 된다
  - 메서드의 리턴 값을 캐시에 저장한다
- JPA 영속성 컨텍스트의 2차 캐시를 이용하는 것 보다 스프링의 캐시를 이용하는 것이 더 권장된다고 한다
  - 2차 캐시의 경우 설정이 복잡하기도 하고, 영속 상태의 Entity 의 복사본을 캐시하기는 하지만, 결국 영속성 컨텍스트의 자원이기 때문에 주의해야 할 듯 하다
  - 그렇기 때문에 2차 캐시보다는 DTO 로 변환한 것을 스프링 캐시에 저장하여 영속성 컨텍스트와 격리시켜서 사용하는 것을 적극 권장한다고 한다
    - 스프링 캐시가 제공하는 기능이 더 풍부한 이유도 있다고 한다! 2차 캐시는 Entity 와 쿼리 수준만 캐시 가능하다
